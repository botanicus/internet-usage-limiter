#!/usr/bin/env ruby

# End of the day reports for clients.
#
# [Usage]
#
# today
# today #work
# today #blog

require 'internet-usage-limiter'

log = InternetUsageLimiter::LogReader.new

if ARGV[0] && ARGV[0].match(/^#(\w+)$/)
  entries = log.day_entries.select { |entry| entry.tags.include?($1.to_sym) }
else
  entries = log.day_entries
end

unless entries.empty?
  puts "Today:\n\n"
  entries.each do |entry|
    puts "- #{entry.description}"
  end
end
